## 운영체제 기본 개념





## 운영체제 관련 질문

 

#### 1. 운영체제란 무엇이고 어떤 역할을 하나요?

- 운영체제는 하드웨어와 응용프로그램 사이에 위치한 소프트웨어입니다.

  유저와 하드웨어 간의 인터페이스로서 사용자가 컴퓨터를 편리하게 사용할 수 있는 환경을 제공합니다. 

- 운영체제는 프로세스, 메모리와 같은 자원을 관리하는 역할을 수행합니다. 
  운영체제를 통해 파일들을 효율적으로 저장하고 관리할 수 있으며 사용자의 실수로 정보를 잃어버리지 않도록 보호하는 역할도 수행합니다.



#### 2. 교착상태란 무엇인가요?

- 둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 상황을 말합니다. 

  비선점 (Nonpreemptive) : 다른 프로세스의 자원을 강제로 뺏을 수 없다

  순환 대기 (Circular wait) : 두 개 이상의 프로세스가 자원 접근을 기다릴 때, 관계가 순환적 구조이다 (즉, 사이클이 존재한다)

  점유 대기 (Hold & Wait) : 공유 자원에 대한 접근 권한을 가진 채로 다른 자원에 대한 접근 권한을 요구할 수 있다.

  상호 배제(Mutual Exclusion) : 한 번에 한 프로세스만 해당 자원을 사용할 수 있다

  위 네가지 조건을 만족할 때 교착상태는 발생합니다

##### > 해결 방법은?

> 시스템에 데드락이 발생했는지에 대한 여부를 탐색하고 해결해야하는데, 지속적으로 교착상태 여부를 확인해야해서 성능저하 발생

- 시스템 운영자나 사용자가 작업을 교체하거나 종료하는 외부 간섭으로 해결 가능

- 프로세스와 쓰레드 종료

  - 교착상태 원형 대기가 종료될 때까지 하나의 프로세스를 무시
    - 다른 프로세스가 작업을 수행하게되어 교착상태가 풀림

  - 모든 교착상태 프로세스 중지

- 자원선점

  - 자원선점 우선순위를 선정
    - 즉, 프로세스로부터 자원을 빼앗아 다른 프로세스에게 자원할당
    - 교착상태가 끝날 때까지

- 사전에 방지 또는 예방하는 것이 가장 좋음



#### 3. 프로세스 vs 쓰레드

- 프로세스는 메모리에 올라와 실행 중인 프로그램을 말합니다. 

  완벽히 독립적인 메모리 영역을 할당받기 때문에 메모리 등의 자원을 다른 프로세스와 공유하지 않습니다. 프로세스는 최소 1개의 쓰레드(메인 쓰레드)를 가지고 있습니다.

  운영체제로부터 자원을 할당받습니다.

- 쓰레드는 프로세스 내에서 할당받은 자원을 이용해 동작하는 실행단위를 의미합니다.
프로세스 내에서 Stack만 따로 할당 받고, 그 이외의 메모리 영역(Code, Data, Heap)영역을 공유하기 때문에 다른 쓰레드의 실행 결과를 즉시 확인할 수 있습니다. 쓰레드는 프로세스 내에 존재하며 프로세스가 할당받은 자원을 이용하여 실행됩니다.

##### > 메모리 구성 (사용자 영역)

- 코드, 데이터, 스택, 힙 영역으로 나누어져있음
- 코드영역
  - 실행될 프로그램의 코드가 저장되어 있는 영역
  - CPU는 코드영역에 저장된 명령을 하나씩 처리
  - 프로그램이 시작되고 종료될 때까지 메모리에 계속 남아있음
- 데이터영역 
  - 프로그램이 구동되는 동안 항상 접근이 가능한 변수가 저장됨
  - 전역변수와 정적 변수 그리고 리터럴값이 저장되어있는 영역
  - 프로그램 시작과 함께 할당되고 프로그램이 종료되면 소멸된다
- 스택영역 
  - 지역변수와 매개변수가 저장되어 있으며, 함수의 호출과 함께 할당되는 영역
  - 함수 호출 시 할당되고 함수 반환시 소멸됨
- 힙 영역 
  - **사용자에 의해** 동적으로 할당되고 해제될 수 있는 메모리 영역
  - 참조형의 데이터 값이 저장됨
- 코드영역과 스택 영역은 컴파일 타임에 크기가 결정되고 ,힙 영역은 런타임에 크기 결정

