# HTTP와 HTTPS

------

## HTTP

> 서버와 클라이언트가 인터넷 상에서 HTML문서를 주고받을 수 있도록 하기 위해 만든 통신 규약

### 특징

1. TCP 기반의 통신 방식

<aside> ➕ TCP 통신

------

- 응용 프로그램이 데이터를 교환할 수 있는 네트워크 대화를 설정하고 유지하는 방법을 정의하는 표준이다.
- IP 네트워크를 통해서 통신하는 호스트에서 실행되는 애플리케이션 간에 신뢰할 수 있고, 순서가 정해져있으며, 오류를 체크하고 전송 가능.
- 인터넷 프로토콜(IP)과 작동하여 컴퓨터가 서로 데이터 패킷을 보내는 방법을 정의한다. </aside>

1. 비연결 지향
   - 사용자의 요청으로 브라우저를 통해 서버에 접속, 요청에 알맞은 응답을 전송 후 연결 종료
   - 간단하고 자원이 적게 듬
   - 지속적이지 않아서, 추가적인 요청을 보낼 때 문제 보유
   - 여러 사용자가 요청 시 각각 사용자 구분 불가능
   - 해결하기 위해 쿠키, 세션등 존재
2. 단방향성
   - 요청이 없으면 서버가 먼저 응답할 수 없다.

## HTTPS

### 정의

HTTP에 TLS( transfer layer security)를 적용하여 HTTP 요청과 응답을 암호화 한 것.

### 등장배경

HTTP는 평문으로 통신하기 때문에 도청, 위장, 변조에 취약함. 그러한 문제를 해결하기 위해 등장

### 특징

1. HTTP 통신 소켓 부분을 SSL(Secure Socket Layer)이라는 프로토콜로 대체하였음.
2. 대칭키 방식과 공개키 암호화 방식을 모두 사용

<aside> ➕ 대칭키와 공개키 암호화

------

- 대칭키 : 암복호화에 사용하는 키가 동일한 암호화 방식
- 공개키 : 공개키 암호화 방식은 암복호화에 사용하는 키가 다르며 따라서 비대칭키 암호화라고 부르기도 함. </aside>

## SSL

### 정의

Netscape 사에서 웹 서버와 브라우저 사이의 보안을 위해 만들어졌다. CA(Certificate Authority)라 불리는 서드 파티로부터 서버와 클라이언트의 인증을 하는데 사용된다.

### 인증 과정

1. 애플리케이션 서버를 운영하는 기업은 HTTPS 적용을 위해 공개키와 개인키
2. 신뢰할 수 있는 CA 기업을 선택하고 인증서 생성을 요청
3. CA는 서버의 공개키, 암호화 방법 등의 정보를 담은 인증서를 만들고 해당 CA의 개인키로 암호화하여 서버에 제공한다.
4. 클라이언트가 SSL로 암호화된 페이지(https://)를 요청시 서버는 인증서를 전송한다.

### ***\*SSL/TLS 핸드셰이크 과정\****

1. 클라이언트 -> 서버 메세지 전송 : 이때 핸드셰이크가 시작된다. 이 메세지에는 TLS 버전, 암호화 알고리즘, 무작위 바이트 문자열이 포함된다.
2. 서버 -> 클라이언트 메세지 전송 : 클라이언트의 메세지에 응답으로 서버의 SSL인증서, 선택한 암호화 알고리즘, 서버에서 생성한 무작위 바이트 문자열을 포함한 메세지를 전송한다.
3. 인증 : 클라이언트가 서버의 SSL인증서를 인증 발행 기관에 검증한다.
4. 예비 마스터 암호 : 클라이언트는 무작위 바이트 문자열을 공개 키로 암호화된 예비 마스터 비밀키를 서버로 전송한다.
5. 개인 키 사용 : 서버가 예비 마스터 비밀키를 개인 키를 통해 복호화한다. (개인 키로만 복호화 가능)
6. 세션 키 생성 :  클라이언트와 서버는 클라이언트가 생성한 무작위 키, 서버가 생성한 무작위 키, 예비 마스터 비밀키를 통해 세션 키를 생성한다. 양쪽은 같은 키가 생성되어야 한다.
7. 클라이언트 완료 전송 : 클라이언트는 세션 키로 암호화된 완료 메세지를 전송한다.
8. 서버 완료 전송 : 서버도 세션 키로 암호화된 완료 메세지를 전송한다.
9. 핸드셰이크 완료 : 핸드셰이크가 완료되고, 세션 키를 이용해 통신을 진행한다.

# 관련 질문

### HTTP와 HTTPS 프로토콜가 뭔지 설명해보세요.

HTTP는 HyperText Transfer Protocol의 약자로서, WWW에서 정보를 전송하는 규칙과 표준을 정의한다. 웹 브라우저와 서버의 통신을 도우며, 무상태 프로토콜로서, 각각의 통신이 독립적이다. Application 레이어에서 TCP 위에서 작동하며, 80번 포트를 주로 사용한다.

HTTPS는 HyperText Transfer Protocol Secure의 약자로서, HTTP의 문제점을 해결하기 위해 등장했습니다. HTTP 통신 소켓에 TLS을 붙여서 작동합니다. 주로 포트 443을 사용합니다.

### TLS가 뭔지 설명해보세요.

TLS는 Transport Layer Security의 약자로서, 인터넷을 통한 통신을 위한 개인 정보 보호 및 데이터 보안 촉진을 위한 규약. TLS의 주 목적은 웹 브라우저가 웹 사이트를 로드하는 것과 같은 웹 응용 프로그램과 서버 간의 통신을 암호화하는 것입니다. TLS를 사용하여 이메일 및 VoIP(Voice over IP)와 같은 다른 통신을 암호화할 수도 있습니다.

### SSL에 대해 설명해주세요.

SSL은 Secure Sockets Layer의 약자로서, 암호화 기반 인터넷 보안 프로토콜이다. 전달되는 모든 데이터를 암호화하고 특정한 유형의 사이버 공격도 차단한다. 현재는 업데이트 되고 있지 않으며 후속으로 TLS가 존재한다.

### ***\*SSL/TLS 핸드셰이크 과정을 설명해주세요.\****